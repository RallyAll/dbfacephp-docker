<table class="table table-bordered table-mailbox table-striped" id="app_box_table"> <thead> <tr class="active"> <th class="small-col">#</th> <th>[{'strName'|translate}]</th> <th>[{'strStatus'|translate}]</th> <th></th> </tr> </thead> <tbody> [{section name=i loop=$apps}] <tr> <td class="small-col">[{$smarty.section.i.index+1}]</td> <td><img title="[{$apps[i].format}] report" src="static/dbfacephp/css/rp/[{$apps[i].format}].png"/>&nbsp;[{$apps[i].name}]</td> <td> [{if $apps[i].status=="publish"}] <span class="label label-primary">Publish</span> [{else}] <span class="label label-warning">Draft</span> [{/if}] </td> <td class="text-right"> <a type="button" class="btn btn-primary btn-xs btn-flat" href="#module=App&appid=[{$apps[i].appid}]&o=1&nc=1" name="?module=App&appid=[{$appid}]&o=1&nc=1" onclick="javascript:return dbfaceMenu.onItemClick(this);"><i class="fa fa-external-link"></i> [{'strOpen'|translate}]</a> <a type="button" class="btn btn-info btn-xs btn-flat" href="#module=Appbuilder&action=edit&appid=[{$apps[i].appid}]" name="?module=Appbuilder&action=edit&appid=[{$appid}]" onclick="javascript:return dbfaceMenu.onItemClick(this);"><i class="glyphicon glyphicon-edit"></i> [{'strEdit'|translate}]</a> <a type="button" class="btn btn-info btn-xs btn-flat" href="#module=Appbuilder&action=copy&appid=[{$apps[i].appid}]" name="?module=Appbuilder&action=copy&appid=[{$appid}]" onclick="javascript:return dbfaceMenu.onItemClick(this);"><i class="fa fa-copy"></i> [{'strCopy'|translate}]</a> <a type="button" class="btn btn-warning btn-xs btn-flat shareBtn" data-appid="[{$apps[i].appid}]" href="javascript:;"><i class="fa fa-share-square"></i> [{'strShare'|translate}]</a> <a type="button" class="btn btn-danger btn-xs btn-flat" href="javascript:;" onclick="javascript:return delapp('[{$apps[i].appid}]', '[{$apps[i].name|htmlspecialchars}]');"><i class="glyphicon glyphicon-remove"></i> [{'strDelete'|translate}]</a> </td> </tr> [{/section}] </tbody> </table> <div id="shareAppDialog" class="modal fade"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> <h4 class="modal-title">[{'strShareTitle'|translate}]</h4> </div> <div class="modal-body"> <form role="form"> <input type="hidden" id="embed_code" value=""/> <div class="form-group"> <label class="checkbox-inline"><input type="checkbox" id="sharestatus" checked>[{'strShare'|translate}]</label> <span class="help-block">[{'strEmbedTip'|translate}]</span> </div> <div class="form-group"> <label class="control-label">[{'strEmbedIframe'|translate}]:</label> <textarea class="form-control" rows="3" id="embed_iframe"></textarea> </div> <div class="form-group"> <label class="control-label">[{'strDirectLink'|translate}]:</label> <textarea class="form-control" id="embed_directlink"></textarea> </div> </form> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">[{'strClose'|translate}]</button> <button type="button" class="btn btn-primary" id="save-embedcode">[{'strConfirm'|translate}]</button> </div> </div> </div> </div> <script>$(function(){var a=$("#shareAppDialog");$(".shareBtn").click(function(){var b=$(this).attr("data-appid");$.post("?module=Appbuilder&action=getshareurl",{appid:b},function(c){if(c.sharestatus==1){$("#sharestatus").prop("checked",true)}else{$("#sharestatus").prop("checked",false)}$("#embed_code").val(c.embedcode);$("#embed_directlink").val(c.iframeurl);$("#embed_iframe").val(c.embed_iframe);$("#save-embedcode").attr("data-appid",b);a.modal({show:true,backdrop:"static"})},"json")});$("#save-embedcode").click(function(){var b=$(this).attr("data-appid");var c=$("#sharestatus").prop("checked")?1:0;$.post("?module=Appbuilder&action=saveembedcode",{appid:b,embedcode:$("#embed_code").val(),sharestatus:c},function(d){a.modal("hide")})});$("#app_box_table").dataTable()});</script>