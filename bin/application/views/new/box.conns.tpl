<div class="box box-solid"> <div class="box-header"> <h3 class="box-title">[{'strConnections'|translate}]</h3> </div> <div class="box-body" id="body_connlist"> [{include file="new/conn.table.tpl"}] </div> <div class="box-footer clearfix"> [{if $enable_createdatabase}] <a type="button" name="?module=Createdatabase" href="#module=Createdatabase" onclick="javascript:return dbfaceMenu.onItemClick(this);" class="btn btn-info btn-sm btn-flat">Create new database</a> [{/if}] <a type="button" name="?module=Conn&action=create" href="#module=Conn&action=create" onclick="javascript:return dbfaceMenu.onItemClick(this);" class="btn btn-primary btn-sm btn-flat pull-right"><i class="fa fa-plus"></i> [{'strAddNewConnection'|translate}]</a> </div> </div> <script>$(function(){$("button[data-widget='remove-conn']").click(function(d){var a=$(d.currentTarget);var c=a.attr("data-connid");var b=a.attr("data-connname");bootbox.confirm("Remove the connection: "+b+"?<p/> <b>All the applications that using this connection will also destroyed!</b><p/><p/>",function(e){if(e){$.post("?module=Conn&action=del",{connid:c},function(f){if(f&&f.refresh){window.location.reload()}else{broadcast.propagateAjax("module=Conn&action=index")}},"json")}})});$("button[data-widget='edit-conn']").click(function(d){var a=$(d.currentTarget);var c=a.attr("data-connid");var b=a.attr("data-connname");broadcast.propagateAjax("module=Conn&action=edit&connid="+c)});$("button[data-widget='makedefault-conn']").click(function(){var a=$(this).attr("data-connid");$.post("?module=Conn&action=setdefault",{connid:a},function(b){$("#body_connlist").html(b);window.location.reload()})});$("button[data-widget='editstructure-conn']").click(function(d){var a=$(d.currentTarget);var c=a.attr("data-connid");var b=a.attr("data-connname");broadcast.propagateAjax("module=Structure&connid="+c)});if(dbface.shouldreload){dbface.shouldreload=null;window.location.reload()}});</script>